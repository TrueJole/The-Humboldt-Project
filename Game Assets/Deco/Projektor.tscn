[gd_scene load_steps=12 format=3 uid="uid://df87isk1ee1nq"]

[ext_resource type="PackedScene" uid="uid://8tcknjjs31rh" path="res://Assets/Projektor.glb" id="1_oxmsp"]
[ext_resource type="Script" path="res://Scripts/Projektor.gd" id="2_fj0hs"]
[ext_resource type="Script" path="res://Scripts/Activation Module.gd" id="2_origj"]
[ext_resource type="VideoStream" uid="uid://b8253fgid1un2" path="res://Assets/Materials/Textures/testVideo.ogv" id="3_v1c7c"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xvhiu"]
albedo_color = Color(0.898039, 0.898039, 0.898039, 1)
roughness = 0.35

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_xv26u"]
roughness = 0.0
emission_enabled = true
emission = Color(0.607843, 0.819608, 0.85098, 1)
emission_energy_multiplier = 0.2

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_cydd4"]
albedo_color = Color(0.74902, 0.74902, 0.74902, 1)
metallic = 1.0
roughness = 0.4

[sub_resource type="BoxShape3D" id="BoxShape3D_6eafa"]
size = Vector3(0.256823, 0.0784298, 0.25869)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_8jar2"]

[sub_resource type="QuadMesh" id="QuadMesh_gtno3"]

[sub_resource type="BoxShape3D" id="BoxShape3D_of25y"]
size = Vector3(0.0384175, 0.0566459, 0.173759)

[node name="Projektor" instance=ExtResource("1_oxmsp")]
script = ExtResource("2_fj0hs")

[node name="Cube" parent="." index="0"]
surface_material_override/0 = SubResource("StandardMaterial3D_xvhiu")
surface_material_override/1 = SubResource("StandardMaterial3D_xv26u")
surface_material_override/2 = SubResource("StandardMaterial3D_cydd4")

[node name="StaticBody3D" type="StaticBody3D" parent="." index="1"]

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D" index="0"]
transform = Transform3D(0.992776, -0.119981, 0, 0.119981, 0.992776, 0, 0, 0, 1, -0.00765522, 0.0578553, 0.000385284)
shape = SubResource("BoxShape3D_6eafa")

[node name="SpotLight3D" type="SpotLight3D" parent="." index="2"]
transform = Transform3D(-4.37114e-08, -0.152986, -0.988228, 0, 0.988228, -0.152986, 1, -6.68723e-09, -4.31968e-08, 0.126928, 0.0700883, 0.0753799)
light_energy = 2.891
light_volumetric_fog_energy = 1.734
light_bake_mode = 0
shadow_enabled = true
shadow_bias = 0.1
spot_range = 5.45182
spot_angle = 24.5206

[node name="SubViewport" type="SubViewport" parent="SpotLight3D" index="0"]
size = Vector2i(1920, 1080)
render_target_update_mode = 4

[node name="VideoStreamPlayer" type="VideoStreamPlayer" parent="SpotLight3D/SubViewport" index="0"]
offset_right = 1920.0
offset_bottom = 1088.0
stream = ExtResource("3_v1c7c")
autoplay = true
loop = true

[node name="MeshInstance3D" type="MeshInstance3D" parent="SpotLight3D/SubViewport" index="1"]
transform = Transform3D(-1.19646e-08, -0.0235547, -0.152154, 3.92951e-15, 0.152154, -0.0235547, 0.273719, -1.02961e-09, -6.65087e-09, 0.319613, 0.0999176, 0.0753799)
material_override = SubResource("StandardMaterial3D_8jar2")
transparency = 0.9
ignore_occlusion_culling = true
mesh = SubResource("QuadMesh_gtno3")
skeleton = NodePath("../..")

[node name="Activation Module" type="Area3D" parent="." index="3"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0939977, 0.044889, 0)
collision_layer = 0
collision_mask = 2
input_ray_pickable = false
monitorable = false
script = ExtResource("2_origj")
activators = Array[String](["cart"])

[node name="CollisionShape3D" type="CollisionShape3D" parent="Activation Module" index="0"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.00293645, 0.0591266, -0.0037498)
shape = SubResource("BoxShape3D_of25y")

[connection signal="activated" from="Activation Module" to="Activation Module" method="_on_activated"]
